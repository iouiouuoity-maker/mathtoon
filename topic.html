<!doctype html>
<html lang="kk">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>–¢–∞“õ—ã—Ä—ã–ø ‚Ä¢ MathToon</title>
  <link rel="stylesheet" href="assets/style.css"/>
</head>
<body>
  <div class="topbar">
    <div class="nav">
      <div class="brand"><div class="logo"></div><div><h1>MathToon</h1><small id="crumb">–¢–∞“õ—ã—Ä—ã–ø</small></div></div>
      <div class="pills">
        <a class="pill" href="index.html">üè†</a>
        <a class="pill" id="back" href="#">‚¨ÖÔ∏è –°—ã–Ω—ã–ø</a>
      </div>
    </div>
  </div>

  <div class="container">
    <section class="hero">
      <div class="sparkles"></div>
      <h2 id="t">–¢–∞“õ—ã—Ä—ã–ø</h2>
      <p id="s">–ê–ª–¥—ã–º–µ–Ω –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ —Ä–µ—Å—É—Ä—Å, —Å–æ—Å—ã–Ω –¥–µ“£–≥–µ–π —Ç–∞“£–¥–∞–ø —Ç–∞–ø—Å—ã—Ä–º–∞ –æ—Ä—ã–Ω–¥–∞–π–º—ã–∑.</p>
      <div class="badges" id="badges"></div>
    </section>

    <div class="grid">
      <div class="card span6">
        <h3>üß© –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ —Ä–µ—Å—É—Ä—Å</h3>
        <div id="embedBox"></div>
        <div class="notice" style="margin-top:10px">–ï–≥–µ—Ä iframe –∞—à—ã–ª–º–∞—Å–∞ ‚Äî ‚Äú‚ÜóÔ∏è –ñ–∞“£–∞ –±–µ—Ç—Ç–µ –∞—à—É‚Äù –±–∞—Å.</div>
      </div>

      <div class="card span6">
        <h3>‚≠ê –î–µ“£–≥–µ–π–¥—ñ —Ç–∞“£–¥–∞</h3>

        <div class="kids">
          <a class="kid" id="go1" href="#"><div class="sticker st1">L1</div><strong>“ö—ã–∑—ã“õ</strong><small>–∂–µ“£—ñ–ª</small></a>
          <a class="kid" id="go2" href="#"><div class="sticker st2">L2</div><strong>–®–µ–±–µ—Ä</strong><small>–æ—Ä—Ç–∞</small></a>
          <a class="kid" id="go3" href="#"><div class="sticker st3">L3</div><strong>–ë–∞—Ç—ã—Ä</strong><small>“õ–∏—ã–Ω–¥–∞—É</small></a>
        </div>

        <a class="btn o" id="groupBtn" href="#" style="margin-top:10px">üë• –¢–æ–ø—Ç—ã“õ –∂“±–º—ã—Å“õ–∞ ”©—Ç—É</a>

        <div class="badges" style="margin-top:10px">
          <span class="badge">üê∞ Plusik</span><span class="badge">ü¶ä Minusya</span>
          <span class="badge">ü§ñ Kobeyt</span><span class="badge">üê¢ Bolu</span>
        </div>
      </div>
    </div>
  </div>

  <script type="module">
    import {params, qs, getTopic, renderEmbed} from "./assets/app.js";

    const {g, tid} = params();
    qs("#crumb").textContent = `${g}-—Å—ã–Ω—ã–ø ‚Ä¢ ${tid}`;
    qs("#back").href = `grade.html?g=${g}`;

    const topic = getTopic(g, tid);
    qs("#t").textContent = topic?.title || "–¢–∞“õ—ã—Ä—ã–ø";
    qs("#badges").innerHTML = `
      <span class="badge">üìò ${g}-—Å—ã–Ω—ã–ø</span>
      <span class="badge">üìå ${topic?.section || "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞"}</span>
      <span class="badge">‚úÖ –¢–∞–ø—Å—ã—Ä–º–∞ –¥–∞–π—ã–Ω</span>
    `;

    renderEmbed(topic?.iframe || "");

    qs("#go1").href = `practice.html?g=${g}&tid=${tid}&lvl=L1`;
    qs("#go2").href = `practice.html?g=${g}&tid=${tid}&lvl=L2`;
    qs("#go3").href = `practice.html?g=${g}&tid=${tid}&lvl=L3`;

    // –¢–ï–ö 1-—Å—ã–Ω—ã–ø g1-eq89 “Ø—à—ñ–Ω —Ç–æ–ø—Ç—ã“õ –∂“±–º—ã—Å —à—ã“õ—Å—ã–Ω
    const groupMap = { "g1-eq89": "groupwork-g1-eq89.html" };
    const page = groupMap[tid];
    const btn = qs("#groupBtn");
    if(page){ btn.href = page; } else { btn.style.display = "none"; }
  </script>
</body>
</html>
